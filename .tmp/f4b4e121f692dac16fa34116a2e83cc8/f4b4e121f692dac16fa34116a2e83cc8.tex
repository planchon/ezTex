\documentclass[11pt, a4paper]{article}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}

\usepackage[pdftex,
            pdfauthor={Qui suis-je ?},
            pdftitle={Aie-je un sous titre ?},
            pdfsubject={Titre de l'article}, pdfcreator={pdflatex}]{hyperref}

\usepackage[top = 50mm, headheight=62pt]{geometry}
\usepackage{titleps}
\usepackage{tabularx, booktabs, multirow}
\usepackage{graphicx, adjustbox, microtype}
\usepackage{lipsum}

\usepackage{amsmath}
\usepackage[linesnumbered,ruled]{algorithm2e}
\usepackage[noend]{algpseudocode}
\makeatletter
\def\BState{\State\hskip-\ALG@thistlm}
\makeatother
\usepackage[framed,numbered,autolinebreaks,useliterate]{mcode}
\renewcommand{\lstlistingname}{Code}
\SetKwRepeat{Do}{do}{while}
\def\code#1{\texttt{#1}}

\usepackage{multicol}
\usepackage{color}
\usepackage{comment}
\usepackage{tocstyle}

\nonstopmode

\usepackage{listings}
\usepackage[most]{tcolorbox} %pour avoir la jolie boite autour du code source
% nouvel environnement listing : texCode, pour le Latex

% Tous les différents langages de programmation supportés  (ceux que je connais lel)
\newtcblisting[auto counter]{texCode}[2][]{
     sharp corners,
     fonttitle = \bfseries,
     colframe = gray,
     listing only,
     listing options = {basicstyle = \ttfamily, language = TeX},
     title = Code Source LaTeX : \thetcbcounter: #2, #1
}
\newtcblisting[auto counter]{cppCode}[2][]{
     sharp corners,
     fonttitle = \bfseries,
     colframe = gray,
     listing only,
     listing options = {basicstyle = \ttfamily, language = C++},
     title = Code Source C++ : \thetcbcounter: #2, #1
}
\newtcblisting[auto counter]{pytCode}[2][]{
     sharp corners,
     fonttitle = \bfseries,
     colframe = gray,
     listing only,
     listing options = {basicstyle = \ttfamily, language = Python},
     title = Code Source Python : \thetcbcounter: #2, #1
}
\newtcblisting[auto counter]{javaCode}[2][]{
     sharp corners,
     fonttitle = \bfseries,
     colframe = gray,
     listing only,
     listing options = {basicstyle = \ttfamily, language = Java},
     title = Code Source Java : \thetcbcounter: #2, #1
}


% \begin{pytCode}
%   code
% \end{pytCode}

\setlength{\columnseprule}{1pt}
\setlength{\columnsep}{0.5cm}
\def\columnseprulecolor{\color{black}}

\usetocstyle{standard}
\makeatletter
     \renewcommand{\thesection}{\Roman{section}.}
     \renewcommand{\thesubsection}{\Roman{section}.\arabic{subsection}.}
     \renewcommand{\thesubsubsection}{\Roman{section}.\arabic{subsection}.\alph{subsubsection}}
\makeatother

\makeatletter
     \renewcommand{\section}{\@startsection{section}{1}{\z@}%
          {-3.5ex \@plus -1ex \@minus -.2ex}%
          {2.3ex \@plus .2ex}%
          {\reset@font\Large\bfseries	}}
     \renewcommand{\subsection}{\@startsection{subsection}{1}{\z@}%
          {-3.5ex \@plus -1ex \@minus -.2ex}%
          {2.3ex \@plus .2ex}%
          {\reset@font\large\bfseries}}
     \renewcommand{\subsubsection}{\@startsection{subsubsection}{1}{\z@}%
          {-3.5ex \@plus -1ex \@minus -.2ex}%
          {2.3ex \@plus .2ex}%
          {\reset@font\large\bfseries}}
\makeatother

\usepackage{hyperref}
\hypersetup{colorlinks, citecolor=black, filecolor=black, linkcolor=black, urlcolor=black}

\usepackage{fancyhdr}
\usepackage{lastpage}
\newpagestyle{style}{
\sethead{}{%
     \begin{tabularx}{\linewidth}[b]{@{}l>{\raggedleft\arraybackslash}X@{}}
          \smash{\raisebox{-0.7\height}{\includegraphics[scale=0.5]{logo.png}}}& \today \\
          \cmidrule[2pt]{2-2}
          & \huge \bfseries Titre de l'article \\
          & Aie-je un sous titre ? \\
          \addlinespace
          \midrule[0.4pt]
     \end{tabularx}}{}
\setfoot{}{\thepage}{}
}

\usepackage[nottoc, notlof, notlot]{tocbibind}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{mathtools, bm}
\usepackage{amssymb, bm}

\usepackage[french]{babel}

\pagestyle{style}

\begin{document}

\tableofcontents\section{Cyril et bapptise} 
Je suis que du texte brut,
AVANT LA PARTIE ALGO
\newpage
thesection
\texttt{YA UNE ALGO ICI} \\Je suis du texte brut et oui,
MAIS APRES LA PARTIE ALGO
\begin{javaCode}{Je suis le titre du code en Java} 
public static main void(string args[]){
system.out.println('Coucou')
}
\end{javaCode} 
\begin{javaCode}{Je suis le titre du code en Java} 
public static main void(string args[]){
system.out.println('Coucou')
}
\end{javaCode} 
Salut ca va ?
Salut ca va ?
Salut ca va ?
Salut ca va ?
Salut ca va ?
Salut ca va ?
\section{CHAPTER2} 
Tu sais le problème avec des test et des example ?
C'est que tu ne sais jamais quoi mettre dedans...
AVANT LA PARTIE ALGO
\texttt{YA UNE ALGO ICI} \\Je suis du texte brut et oui,
MAIS APRES LA PARTIE ALGO
\begin{figure}[h!] 
\centerline{\fbox{\includegraphics[scale = 0.5]{image.png}}} 
\caption{Je suis le titre de l'image} 
\end{figure}\begin{cppCode}{Je suis le titre du code en C++} 
int main(){
for(int i = 0; i< 10; i++){
std
}
return 0;
}
\end{cppCode} 
Fin du chap 2
\section{CHAPTER3} 
\subsection{Je suis une sous-section}Je suis dans la sous-section
Et je suis super cool
\section{Chapitre 4} 
\subsection{Sous section}\begin{cppCode}{Je suis le titre du code en C++} 
int main(){
return 0;
}
\end{cppCode} 
text
\section{OSU Pour mathéo} 
\subsection{Sous section}\begin{cppCode}{Je suis le titre du code en C++} 
int main(){
return 0;
}
\end{cppCode} 
text
\section{Random} 
\subsection{Sous section}\begin{cppCode}{Je suis le titre du code en C++} 
int main(){
return 0;
}
\end{cppCode} 
text


\end{document}
